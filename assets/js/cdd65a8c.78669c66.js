"use strict";(self.webpackChunkeldiron_docs=self.webpackChunkeldiron_docs||[]).push([[7465],{4259:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"reference/events","title":"Events","description":"This chapter lists all available events that can be received by characters and items in Eldiron.","source":"@site/docs/reference/events.md","sourceDirName":"reference","slug":"/reference/events","permalink":"/docs/reference/events","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Events","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Configuration","permalink":"/docs/reference/configuration"},"next":{"title":"Scripting: Client","permalink":"/docs/reference/scripting_client"}}');var s=i(4848),t=i(8453);const d={title:"Events",sidebar_position:3},l=void 0,c={},h=[{value:"System Events",id:"system-events",level:2},{value:"<code>active</code>",id:"active",level:3},{value:"<code>arrived</code>",id:"arrived",level:3},{value:"<code>bumped_into_entity</code>",id:"bumped_into_entity",level:3},{value:"<code>bumped_into_item</code>",id:"bumped_into_item",level:3},{value:"<code>bumped_by_entity</code>",id:"bumped_by_entity",level:3},{value:"<code>closed_in</code>",id:"closed_in",level:3},{value:"<code>dead</code>",id:"dead",level:3},{value:"<code>entered</code>",id:"entered",level:3},{value:"<code>intent</code>",id:"intent",level:3},{value:"<code>kill</code>",id:"kill",level:3},{value:"<code>left</code>",id:"left",level:3},{value:"<code>proximity_warning</code>",id:"proximity_warning",level:3},{value:"<code>startup</code>",id:"startup",level:3},{value:"<code>take_damage</code>",id:"take_damage",level:3},{value:"User Events",id:"user-events",level:2},{value:"<code>key_down</code>",id:"key_down",level:3},{value:"<code>key_up</code>",id:"key_up",level:3}];function o(e){const n={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["This chapter lists all available ",(0,s.jsx)(n.strong,{children:"events"})," that can be received by characters and items in Eldiron."]}),"\n",(0,s.jsx)(n.p,{children:"Events are categorized as:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"System Events"})," \u2013 sent by the engine to the ",(0,s.jsx)(n.code,{children:"event()"})," handler"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Events"})," \u2013 sent to the ",(0,s.jsx)(n.code,{children:"user_event()"})," handler (usually from player input)"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"system-events",children:"System Events"}),"\n",(0,s.jsx)(n.h3,{id:"active",children:(0,s.jsx)(n.code,{children:"active"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Item-only event."})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": active state ",(0,s.jsx)(n.em,{children:"(bool)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Called when the state of the item has changed and directly after item creation. This event allows the item to sync its visuals with the current state, for example a torch may call ... to adjust it's light emission."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"arrived",children:(0,s.jsx)(n.code,{children:"arrived"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Character-only event."})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": destination sector name ",(0,s.jsx)(n.em,{children:"(string)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Send by ",(0,s.jsx)(n.a,{href:"/docs/reference/scripting_server#goto",children:"goto"})," when the character arrives at the destination."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"bumped_into_entity",children:(0,s.jsx)(n.code,{children:"bumped_into_entity"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"entity_id"})," ",(0,s.jsx)(n.em,{children:"(int)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Triggered when this entity bumps into another entity."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"bumped_into_item",children:(0,s.jsx)(n.code,{children:"bumped_into_item"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"item_id"})," ",(0,s.jsx)(n.em,{children:"(int)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Triggered when this entity bumps into an item."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"bumped_by_entity",children:(0,s.jsx)(n.code,{children:"bumped_by_entity"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"entity_id"})," ",(0,s.jsx)(n.em,{children:"(int)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Triggered when another entity collides with this entity or item."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"closed_in",children:(0,s.jsx)(n.code,{children:"closed_in"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"entity_id"})," ",(0,s.jsx)(n.em,{children:"(int)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Send when an NPC closed in within the radius of the target entity. Send by the ",(0,s.jsx)(n.a,{href:"/docs/reference/scripting_server#close_in",children:"close_in"})," command."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"dead",children:(0,s.jsx)(n.code,{children:"dead"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"entity_id"})," ",(0,s.jsx)(n.em,{children:"(int)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Send when another entity kills this character. The ",(0,s.jsx)(n.em,{children:"entity_id"})," of the killer is passed in the value. This is useful for sending messages and taking the next steps. A player character could for example ",(0,s.jsx)(n.a,{href:"/docs/reference/scripting_server#teleport",children:"teleport"})," to a graveyard or healer."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"entered",children:(0,s.jsx)(n.code,{children:"entered"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"sector_name"})," ",(0,s.jsx)(n.em,{children:"(string)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Triggered when the character has entered a named sector. Useful for traps or teleports."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"intent",children:(0,s.jsx)(n.code,{children:"intent"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"dict"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:"{ intent (string), entity_id (int), item_id (int), distance (float)}"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Triggered when the player triggers an intent towards another entity or item. Either via a movement based keyboard shortcut or by clicking on the target entity or item.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["When the target is an item, the event is send to the target item ",(0,s.jsx)(n.strong,{children:"and"})," to the originating player entity as the action may be handled by either of them depending on the context, for example a torch would lit itself when used, or a character may take an item."]}),"\n",(0,s.jsxs)(n.li,{children:["When the target is another character, the event is send to both, the originating character and the target entity. For example on an ",(0,s.jsx)(n.code,{children:"attack"})," intent the originating player may call ",(0,s.jsx)(n.a,{href:"/docs/reference/scripting_server#deal_damage",children:"deal_damage"})," to the given ",(0,s.jsx)(n.code,{children:"entity_id"}),", or the target may want to respond when talked to."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"kill",children:(0,s.jsx)(n.code,{children:"kill"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"entity_id"})," ",(0,s.jsx)(n.em,{children:"(int)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Send when this entity kills another character. The ",(0,s.jsx)(n.em,{children:"entity_id"})," of the target is passed in the value. This is useful for sending messages and for NPCs to reset what they are doing."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"left",children:(0,s.jsx)(n.code,{children:"left"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"sector_name"})," ",(0,s.jsx)(n.em,{children:"(string)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Triggered when the character has left a named sector."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"proximity_warning",children:(0,s.jsx)(n.code,{children:"proximity_warning"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"entity_ids"})," ",(0,s.jsx)(n.em,{children:"(array)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Called when proximity tracking was enabled via ",(0,s.jsx)(n.a,{href:"/docs/reference/scripting_server#set_proximity_tracking",children:"set_proximity_tracking"})," and other entities are in radius. Useful for NPCs to interact with other characters (attack, talk, heal, etc.)."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"startup",children:(0,s.jsx)(n.code,{children:"startup"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.em,{children:"(None)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Called when the entity or item is created."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"take_damage",children:(0,s.jsx)(n.code,{children:"take_damage"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"dict"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Triggered by the ",(0,s.jsx)(n.code,{children:"deal_damage()"})," command.",(0,s.jsx)(n.br,{}),"\n","The dictionary contains the damage payload sent by the attacker."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"user-events",children:"User Events"}),"\n",(0,s.jsx)(n.h3,{id:"key_down",children:(0,s.jsx)(n.code,{children:"key_down"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"string"})," (e.g. ",(0,s.jsx)(n.code,{children:'"w"'}),", ",(0,s.jsx)(n.code,{children:'"a"'}),", ",(0,s.jsx)(n.code,{children:'"space"'}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Triggered when a key is pressed."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"key_up",children:(0,s.jsx)(n.code,{children:"key_up"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value"}),": ",(0,s.jsx)(n.code,{children:"string"})," (e.g. ",(0,s.jsx)(n.code,{children:'"w"'}),", ",(0,s.jsx)(n.code,{children:'"a"'}),", ",(0,s.jsx)(n.code,{children:'"space"'}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Triggered when a key is released."]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function d(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);